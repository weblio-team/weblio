{% extends "base.html" %}
{% block title %}{{ post.title_tag }}{% endblock %}
{% block content %}
<main role="main" class="container py-4">
    {% if post.thumbnail %}
    <img src="{{ post.thumbnail.url }}" class="img-fluid rounded-start" alt="Thumbnail Image" style="width: 100%;">
    {% endif %}
    <hr>
    <small>Fecha de inicio de publicaci贸n: {{ post.publish_start_date }}</small><br>
    <small>Fecha de fin de publicaci贸n: {{ post.publish_end_date }}</small><br>
    <h1>{{ post.title }}</h1>
    <blockquote class="blockquote">
        <small>{{ post.summary }}</small>
    </blockquote>
    <p>{{ post.body|safe }}</p>
    <small>Autor: {{ post.history_user.first_name }} {{ post.history_user.last_name }}</small><br>
    <small>Categoria: {{ post.category }}</small><br>
    <small>Etiquetas: {{ post.keywords }}</small><br>
    
    <!-- Flex container for button alignment -->
    <div class="d-flex justify-content-between py-4">
        <!-- Left aligned 'Volver' button -->
        {% if user == post.author %}
        <a href="{% url 'edit-my-post' post_pk %}" class="btn btn-light">Volver</a>
        {% else %}
        <a href="{% url 'edit-a-post' post_pk %}" class="btn btn-light">Volver</a>
        {% endif %}
        
        <!-- Right aligned 'Restaurar esta versi贸n' button -->
        <form method="post" action="{% if user == post.author %}{% url 'edit-my-post' post_pk %}{% else %}{% url 'edit-a-post' post_pk %}{% endif %}">
            {% csrf_token %}
            <input type="hidden" name="restore_version" value="true">
            <input type="hidden" name="title" value="{{ post.title }}">
            <input type="hidden" name="title_tag" value="{{ post.title_tag }}">
            <input type="hidden" name="summary" value="{{ post.summary }}">
            <input type="hidden" name="body" value="{{ post.body }}">
            <input type="hidden" name="category" value="{{ post.category }}">
            <input type="hidden" name="keywords" value="{{ post.keywords }}">
            <button type="submit" class="btn btn-primary" value="restore">Restaurar esta versi贸n</button>
        </form>
    </div>
</main>
{% endblock %}
