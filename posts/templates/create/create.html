{% extends "base.html" %}
{% block content %}
<main role="main" class="container py-4">
  <h1>Crear artículo</h1>
  <form method="post" enctype="multipart/form-data">
  {% csrf_token %}
  <!-- Tabs de Bootstrap -->
  <ul class="nav nav-tabs mb-3" id="myTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="informacion-tab" data-bs-toggle="tab" href="#informacion" role="tab"
        aria-controls="informacion" aria-selected="true">Información</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="cuerpo-tab" data-bs-toggle="tab" href="#cuerpo" role="tab" aria-controls="cuerpo"
        aria-selected="false">Cuerpo</a>
    </li>
  </ul>

  <!-- Tab Content -->
  <div class="tab-content" id="myTabContent">
    <!-- Información Tab -->
    <div class="tab-pane fade show active" id="informacion" role="tabpanel" aria-labelledby="informacion-tab">
      <ul class="nav nav-tabs" id="infoTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="existing-fields-tab" data-bs-toggle="tab" href="#existing-fields" role="tab"
            aria-controls="existing-fields" aria-selected="true">General</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="dates-tab" data-bs-toggle="tab" href="#dates" role="tab" aria-controls="dates"
            aria-selected="false">Fechas de publicación</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="thumbnail-tab" data-bs-toggle="tab" href="#thumbnail" role="tab"
            aria-controls="thumbnail" aria-selected="false">Foto de portada</a>
        </li>
      </ul>

      <div class="tab-content">
        <!-- Existing Fields -->
        <div class="tab-pane fade show active" id="existing-fields" role="tabpanel"
          aria-labelledby="existing-fields-tab">
          <div class="py-3">
            <div class="form-group">
              <div class="form-group">
                <label for="id_title">Título</label>
                {{ gen_form.title }}
              </div>
              <div class="form-group">
                <label for="id_title_tag">Etiqueta de título</label>
                {{ gen_form.title_tag }}
              </div>
              <div class="form-group">
                <label for="id_summary">Resumen</label>
                {{ gen_form.summary }}
              </div>
              <div class="form-group">
                <label for="id_category">Categoría</label>
                {{ gen_form.category }}
              </div>
              <div class="form-group">
                <label for="id_keywords">Etiquetas</label>
                {{ gen_form.keywords }}
              </div>
            </div>
          </div>
        </div>

        <!-- Dates Tab -->
        <div class="tab-pane fade" id="dates" role="tabpanel" aria-labelledby="dates-tab">
          <div class="py-3">
            <div class="form-group">
              <label for="id_start_date">Inicio de publicación</label>
              {{ program_form.publish_start_date }}
            </div>
            <div class="form-group">
              <label for="id_end_date">Fin de publicación</label>
              {{ program_form.publish_end_date }}
            </div>
          </div>
        </div>

        <!-- Thumbnail Upload Tab -->
        <div class="tab-pane fade" id="thumbnail" role="tabpanel" aria-labelledby="thumbnail-tab">
          <div class="py-3">
            <div class="form-group">
              <label for="id_thumbnail">Foto de portada</label>
              {{ thumbnail_form.thumbnail }}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Cuerpo Tab -->
    <div class="tab-pane fade" id="cuerpo" role="tabpanel" aria-labelledby="cuerpo-tab">
      <div class="py-3">
        <div class="form-group">
          {{ body_form.media }}
          {{ body_form.body }}
        </div>
      </div>
    </div>
  </div>

  <!-- Submit Buttons -->
  <div class="py-3">
    <button class="btn btn-success" type="submit">Guardar</button>
    <a href="{% url 'my-posts' %}" class="btn btn-secondary">Cancelar</a>
  </div>
  </form>
</main>
<style>
  /* Change the color for active tabs within the "Información" section */
  #informacion .nav-link.active {
    border-color: #007bff; /* Change this to your desired active tab color */
    background-color: #007bff; /* Change this to your desired active tab color */
    color: white; /* Text color for the active tab */
  }
</style>
<!-- Bootstrap JavaScript for Tabs -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var triggerTabList = [].slice.call(document.querySelectorAll('#myTab a'))
    triggerTabList.forEach(function (triggerEl) {
      var tabTrigger = new bootstrap.Tab(triggerEl)

      triggerEl.addEventListener('click', function (event) {
        event.preventDefault()
        tabTrigger.show()
      })
    })
  });
</script>
{% endblock %}