{% extends "base.html" %}
{% block title %}{{post.title_tag}}{% endblock  %}
{% block content %}
	<main role="main" class="container py-4">
		<h1>{{post.title}}</h1>
		<small>Posted by {{post.author.first_name}} {{post.author.last_name}} - {{post.date_posted}}</small></br>
		<hr>
		<p>{{post.body|safe}}</p>
		<a href="{% url 'posts' %}" class="btn btn-primary">Back to Posts</a>
		{% if user.is_authenticated %}
			<a href="{% url 'post_edit' post.pk post.category.name|slugify post.date_posted|date:'m' post.date_posted|date:'Y' post.title|slugify %}" class="btn btn-warning">Edit</a>
			<button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">Delete</button>
		{% endif %}
		<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="deleteModalLabel">Confirm Delete</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				Are you sure you want to delete this post?
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
				<a href="{% url 'post_delete' post.pk post.category.name|slugify post.date_posted|date:'m' post.date_posted|date:'Y' post.title|slugify %}" class="btn btn-danger">Confirm</a>
			</div>
			</div>
		</div>
		</div>
	</main>
{% endblock %}